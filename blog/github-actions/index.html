<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Using Github Actions &amp; Pages to build and deploy | Vergil&#x27;s Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://vergilwang15.github.io/blog/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://vergilwang15.github.io/blog/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://vergilwang15.github.io/blog/blog/github-actions"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Using Github Actions &amp; Pages to build and deploy | Vergil&#x27;s Blog"><meta data-rh="true" name="description" content="[//]Build a free image hosting service with github, then replace the images above)"><meta data-rh="true" property="og:description" content="[//]Build a free image hosting service with github, then replace the images above)"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-01-08T16:06:43.000Z"><meta data-rh="true" property="article:author" content="https://github.com/VergilWang15"><meta data-rh="true" property="article:tag" content="github actions,docusaurus"><link data-rh="true" rel="icon" href="/blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://vergilwang15.github.io/blog/blog/github-actions"><link data-rh="true" rel="alternate" href="https://vergilwang15.github.io/blog/blog/github-actions" hreflang="en"><link data-rh="true" rel="alternate" href="https://vergilwang15.github.io/blog/blog/github-actions" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/blog/rss.xml" title="Vergil&#39;s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/blog/atom.xml" title="Vergil&#39;s Blog Atom Feed"><link rel="stylesheet" href="/blog/assets/css/styles.5af053c1.css">
<script src="/blog/assets/js/runtime~main.198c432b.js" defer="defer"></script>
<script src="/blog/assets/js/main.049afbfa.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blog/"><div class="navbar__logo"><img src="/blog/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/blog/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Vergil&#x27;s Blog</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/VergilWang15/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/blog/github-actions">Using Github Actions &amp; Pages to build and deploy</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/blog/hello-world">Hello world!</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="[//]Build a free image hosting service with github, then replace the images above)"><header><h1 class="title_f1Hy" itemprop="headline">Using Github Actions &amp; Pages to build and deploy</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-01-08T16:06:43.000Z" itemprop="datePublished">January 8, 2024</time> Â· <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/VergilWang15" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/VergilWang15.png" alt="Vergil Wong" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/VergilWang15" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Vergil Wong</span></a></div><small class="avatar__subtitle" itemprop="description">A student who loves web dev (copilot guessed it, not even close lol)</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><div style="display:flex;justify-content:space-around;align-items:center"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--CgjFf16k--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/i/a12tj8n6facp0kt0xb0n.jpeg" alt="Image 1" style="width:33%"><img src="https://coletiv.com/static/android-github-actions-setup-image-35b6a79fea4a7289acb6796cd4ad05b4.png" alt="Image 2" style="width:34%"><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H2DwM_MSTKQhX0txxaCiUw.png" alt="Image 3" style="width:33%"></div>
<p>Today, I utilized Github actions to successfully build and deploy my website, which is now smoothly hosted on <a href="https://vergilwang15.github.io/blog/" target="_blank" rel="noopener noreferrer">my Github Pages</a>. I am going to share my experience here.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-github-actions-and-github-pages">What are Github Actions and Github Pages?<a href="#what-are-github-actions-and-github-pages" class="hash-link" aria-label="Direct link to What are Github Actions and Github Pages?" title="Direct link to What are Github Actions and Github Pages?">â</a></h2>
<p>Github Actions is a CI/CD tool provided by Github. It is free for public repositories and has certain amount of free minutes for private repositories (2,000 minutes per month in 01/08/2024).</p>
<p>Github Pages is a service that allows you to host static websites directly from your Github repository. The service is free and supports custom domains, which can be used in unlimited public repositories.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-do-i-use-these-two-services">Why do I use these two services?<a href="#why-do-i-use-these-two-services" class="hash-link" aria-label="Direct link to Why do I use these two services?" title="Direct link to Why do I use these two services?">â</a></h2>
<ul>
<li>Cost-Effective: They are free</li>
<li>User-Friendly: They are easy to use and well-integrated with Github</li>
<li>Accessiblity: Documentation is clear and everywhere</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-workflow-file">Create A Workflow File<a href="#create-a-workflow-file" class="hash-link" aria-label="Direct link to Create A Workflow File" title="Direct link to Create A Workflow File">â</a></h2>
<p>Create a <code>.yml</code> file (In my cases, it&#x27;s <code>website_ci.yml</code>) under<code>.github/workflows/</code> folder. When you commit this file, Github Actions will automatically run the workflow.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-workflow">Configure the Workflow<a href="#configure-the-workflow" class="hash-link" aria-label="Direct link to Configure the Workflow" title="Direct link to Configure the Workflow">â</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><code>website_ci.yml</code>, click to expand</summary><div><div class="collapsibleContent_i85q"><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> My blog CI </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">push</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;main&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">pull_request</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;main&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">permissions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">contents</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> write</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">build-and-deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">concurrency</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ci</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> github.ref </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">strategy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">matrix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">node-version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">18.x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 20.x</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Use Node.js $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> matrix.node</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">version </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">node@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">node-version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> matrix.node</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">version </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">cache</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;npm&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Install dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Build website</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        npm ci</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        npm run build</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> JamesIves/github</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pages</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">action@v4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">folder</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> build </span><span class="token comment" style="color:#999988;font-style:italic"># The folder the action should deploy.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<p>I use the following steps to configure a workflow:</p>
<ol>
<li>
<p>Configure the workflow itself</p>
<p>This part is used to configure the workflow itself, including:</p>
<ul>
<li>Set your workflow&#x27;s name</li>
<li>Set the event that triggers the workflow, in my case, it&#x27;s <code>push</code> or <code>pull_request</code> to <code>main</code> branch</li>
<li>Set the permission of the workflow, in my case, it&#x27;s <code>contents: write</code>, which means the workflow can write to the repository</li>
</ul>
</li>
<li>
<p>Configure the jobs</p>
<p>This part is used to configure the jobs in the workflow, including:</p>
<ul>
<li>Set the name of the job, in my case, it&#x27;s <code>build-and-deploy</code></li>
<li>Set the concurrency of the job, in my case, it&#x27;s <code>ci-${{ github.ref }}</code>, which means the job will run concurrently with the same ref</li>
<li>Set the environment of the job, in my case, it&#x27;s <code>ubuntu-latest</code>, which means the job will run on the latest version of Ubuntu</li>
<li>Set the strategy of the job, in my case, it&#x27;s <code>node-version: [18.x, 20.x]</code>, which means the job will run on two versions of Node.js. I use this because I want to test if my website can be built on different versions of Node.js</li>
</ul>
</li>
<li>
<p>Configure the steps</p>
<p>Steps are the most important part of the workflow, which contains the actual actions that will be executed. In my case, I use the following steps:</p>
<ul>
<li><code>actions/checkout@v3</code>: This action is used to checkout the repository to the runner, which means the runner will have access to the repository</li>
<li><code>actions/setup-node@v3</code>: This action is used to setup Node.js on the runner</li>
<li><code>npm install</code>: This step is used to install dependencies, which is required to build the docusaurus website, you can also use yarn which is more recommended by docusaurus</li>
<li><code>npm ci</code>: This step is used to install dependencies with clean cache listed in the package-lock.json file</li>
<li><code>npm run build</code>: This step is used to build the website, which will generate a <code>build</code> folder containing the static website</li>
</ul>
<p>After these steps, the website is built and ready to be deployed.</p>
</li>
<li>
<p>Configure the deployment</p>
<p>I used <a href="https://github.com/JamesIves/github-pages-deploy-action/tree/v4/" target="_blank" rel="noopener noreferrer">JamesIves/github-pages-deploy-action</a> to deploy my website. This action will create a new branch called <code>gh-pages</code> and push the <code>build</code> folder (you can specify the folder in the action) to the branch.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="push-the-workflow-file-to-your-repository">Push the Workflow File to your Repository<a href="#push-the-workflow-file-to-your-repository" class="hash-link" aria-label="Direct link to Push the Workflow File to your Repository" title="Direct link to Push the Workflow File to your Repository">â</a></h2>
<p>After you commit it to Github (main branch here), Github Actions will automatically run the workflow. You can check the status here:</p>
<p><img loading="lazy" alt="Github Actions" src="/blog/assets/images/image-1-e6d10c4c388c6a46bce02f6a357f0156.png" width="2137" height="602" class="img_ev3q"></p>
<p>If you are using vscode, you can install a <a href="https://marketplace.visualstudio.com/items?itemName=GitHub.vscode-github-actions" target="_blank" rel="noopener noreferrer">Github Actions extension</a> to check the status of your workflow. It also provides some convient features like highlighting the actions you are using, which can be clicked to view the Github repo of the action.</p>
<p><img loading="lazy" alt="Github Actions extension" src="/blog/assets/images/image-2-0184677837168f5d705117ac63249c7a.png" width="715" height="536" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-github-pages">Configure Github Pages<a href="#configure-github-pages" class="hash-link" aria-label="Direct link to Configure Github Pages" title="Direct link to Configure Github Pages">â</a></h2>
<p>After Gihub Actions is finished, the workflow will create a new branch called <code>gh-pages</code> on your repository. You can check it here:</p>
<p><img loading="lazy" alt="gp-branch" src="/blog/assets/images/image-18d1aa12e60239539628293047a8821b.png" width="591" height="587" class="img_ev3q"></p>
<p>Then, you can go to the <code>Settings</code> tab of your repository and scroll down to the <code>Github Pages</code> section.</p>
<ul>
<li>Select <code>Deploy from a branch</code> as the source</li>
<li>Select the <code>gh-pages</code> as the branch</li>
<li>Select the <code>/ (root)</code> as the folder</li>
</ul>
<p>Github Pages will automatically start a Github Actions called <code>pages-build-deployment</code> to deploy your website. After it&#x27;s finished, you can access your website at <code>https://&lt;your-github-username&gt;.github.io/&lt;your-repository-name&gt;/</code>.</p>
<p>You can also use a custom domain for your website. And Github provides a <a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site" target="_blank" rel="noopener noreferrer">detailed guide</a> for this.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="modify-the-docusaurusconfigjs-file">Modify the <code>docusaurus.config.js</code> file<a href="#modify-the-docusaurusconfigjs-file" class="hash-link" aria-label="Direct link to modify-the-docusaurusconfigjs-file" title="Direct link to modify-the-docusaurusconfigjs-file">â</a></h2>
<p><code>docusaurus.config.js</code> is the configuration file of docusaurus. It contains the basic information of the website, including the plugins, the theme, layout, i18n, etc.</p>
<p>The thing was not done yet after I configured the Github Pages. The website was truly deployed, but it didn&#x27;t work as expected.</p>
<p>The reason why it didn&#x27;t work is that the <code>baseUrl</code> in the <code>docusaurus.config.js</code> file was not set correctly.</p>
<p>The default value of <code>baseUrl</code> is <code>/</code>, which means the website will be hosted at <code>https://your-repo.github.io/</code>. But in my case, I want to host the website at <code>https://your-repo.github.io/blog/</code>, so I need to change the <code>baseUrl</code> to <code>/blog/</code>.</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const config = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// set the production url of your site here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> url: &#x27;https://your-docusaurus-site.example.com&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> url: &#x27;https://your-repo.github.io&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// set the base url of your site</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> baseUrl: &#x27;/&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> baseUrl: &#x27;/blog/&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// some references should be changed as well</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> {to: &#x27;/blog&#x27;, label: &#x27;Blog&#x27;, position: &#x27;left&#x27;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> {to: &#x27;/blog/blog&#x27;, label: &#x27;Blog&#x27;, position: &#x27;left&#x27;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Docusaurus v3 does not include support for <code>diff</code> code block highlighting out of the box. To enable this feature, you need to add an option in your <code>docusaurus.config.js</code> file as follows:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">prism</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">theme</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> prismThemes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">github</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">darkTheme</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> prismThemes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">dracula</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">additionalLanguages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;diff&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<p>After these changes being made, the website should work as expected ð</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/blog/tags/github-actions">github actions</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/blog/tags/docusaurus">docusaurus</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/VergilWang15/blog/blog/github-actions-and-pages.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/blog/hello-world"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Hello world!</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-are-github-actions-and-github-pages" class="table-of-contents__link toc-highlight">What are Github Actions and Github Pages?</a></li><li><a href="#why-do-i-use-these-two-services" class="table-of-contents__link toc-highlight">Why do I use these two services?</a></li><li><a href="#create-a-workflow-file" class="table-of-contents__link toc-highlight">Create A Workflow File</a></li><li><a href="#configure-the-workflow" class="table-of-contents__link toc-highlight">Configure the Workflow</a></li><li><a href="#push-the-workflow-file-to-your-repository" class="table-of-contents__link toc-highlight">Push the Workflow File to your Repository</a></li><li><a href="#configure-github-pages" class="table-of-contents__link toc-highlight">Configure Github Pages</a></li><li><a href="#modify-the-docusaurusconfigjs-file" class="table-of-contents__link toc-highlight">Modify the <code>docusaurus.config.js</code> file</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Vergil Wong. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>